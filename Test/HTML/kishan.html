<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Learn Python Loops üêç</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body {
    background-color: #121212;
    color: #fff;
    font-family: 'Segoe UI', sans-serif;
  }
  #gameArea {
    width: 700px;
    height: 250px;
    border: 2px solid #555;
    border-radius: 15px;
    margin: 20px auto;
    position: relative;
    overflow: hidden;
    background: linear-gradient(145deg, #1e1e1e, #2a2a2a);
    box-shadow: 0 0 15px #4ade80;
  }
  .character {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    position: absolute;
    top: 100px;
    left: 0;
    transition: left 0.5s;
    box-shadow: 0 0 15px #4ade80;
  }
  .trail {
    width: 10px;
    height: 10px;
    position: absolute;
    border-radius: 50%;
    background-color: rgba(74, 222, 128, 0.5);
  }
  input, button, select {
    background-color: #222;
    color: #fff;
    border: 1px solid #555;
    padding: 5px 10px;
    margin: 5px;
    border-radius: 5px;
  }
  button:hover {
    background-color: #4ade80;
    color: #000;
  }
</style>
</head>
<body>
<h1 class="text-center text-3xl font-bold mt-5 mb-2">Learn Python Loops üêç</h1>
<p class="text-center mb-5">Set variables, run the loop, and see the animation!</p>

<div class="text-center mb-5">
  <label>Steps: <input type="number" id="steps" value="5" min="1" max="20"></label>
  <label>Step Size: <input type="number" id="stepSize" value="50" min="20" max="100"></label>
  <label>Color: 
    <select id="charColor">
      <option value="#4ade80">Green</option>
      <option value="#3b82f6">Blue</option>
      <option value="#facc15">Yellow</option>
      <option value="#f87171">Red</option>
    </select>
  </label>
  <button onclick="runLoop()">Run Loop</button>
</div>

<div id="gameArea">
  <div class="character" id="character"></div>
</div>

<div class="text-center mt-5">
  <p id="loopInfo" class="mb-2 text-lg">Current Step: 0</p>
  <pre id="codeDisplay" class="text-left bg-gray-900 p-3 rounded-xl w-3/4 mx-auto">
for i in range(steps):
    print("Step", i+1)
  </pre>
</div>

<script>
  const character = document.getElementById('character');
  const loopInfo = document.getElementById('loopInfo');
  const codeDisplay = document.getElementById('codeDisplay');
  const gameArea = document.getElementById('gameArea');

  function runLoop() {
    let steps = parseInt(document.getElementById('steps').value);
    let stepSize = parseInt(document.getElementById('stepSize').value);
    let color = document.getElementById('charColor').value;

    character.style.backgroundColor = color;

    // Reset character
    character.style.left = '0px';
    loopInfo.textContent = "Current Step: 0";

    // Clear existing trails
    document.querySelectorAll('.trail').forEach(t => t.remove());

    // Update Python code dynamically
    codeDisplay.textContent = `for i in range(${steps}):\n    print("Step", i+1)`;

    let currentStep = 0;
    const interval = setInterval(() => {
      if(currentStep >= steps) {
        clearInterval(interval);
        loopInfo.textContent = "Loop Finished! üéâ";
        return;
      }

      // Move character
      character.style.left = `${currentStep * stepSize}px`;

      // Add trail
      const trail = document.createElement('div');
      trail.className = 'trail';
      trail.style.left = `${currentStep * stepSize + 20}px`;
      trail.style.top = '115px';
      gameArea.appendChild(trail);

      // Update info
      loopInfo.textContent = `Current Step: ${currentStep + 1}`;

      currentStep++;
    }, 500);
  }
</script>
</body>
</html>
